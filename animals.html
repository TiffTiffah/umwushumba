<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css"> <!-- Your custom CSS styles -->
    <link rel="stylesheet" href="assets/icons/boxicons-master/css/boxicons.css">
    <link rel="stylesheet" href="assets/icons/fontawesome/css/all.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js library -->
    <title>Document</title>
</head>
<body>
    <header class="header">
        <div class="header-title">
            <h3></h3>
        </div>
        <div class="side-icons">
            <a href="#" class="icon" id="addAnimalLink" data-bs-toggle="modal" data-bs-target="#myModal">
                <i class='bx bx-add-to-queue'></i>
            </a>
            <a href="#" class="icon"><i class='bx bx-bell'></i></a>
            <a href="#" class="icon"><i class='bx bx-envelope'></i></a>
            <a href="#" class="icon"><i class='bx bx-user'></i></a>
        </div>
    </header>

    <section class="sidebar">
        <div class="logo">
            <img src="umwushumba.png" alt="logo">
            <!-- <h3>UMWUSHUMBA</h3> -->
        </div>
        <div class="menu">
            <ul>
                <li><a href="#"><i class='bx bx-home'></i>Dashboard</a></li>
                <li><a href="#" class="active"><i class="fa-solid fa-cow"></i>Animals</a></li>
                <li><a href="#"><i class='bx bx-task'></i>Tasks</a></li>
                <li><a href="#"><i class='bx bx-wrench'></i>Equipments</a></li>
                <li><a href="#"><i class='bx bx-group'></i>Staff</a></li>
                <li><a href="#"><i class='bx bx-bar-chart-square'></i>Reports</a></li>
            </ul>
        </div>
    </section>

    <main class="main">
        <div class="container">

            <button class="add-animal-btn" id="addAnimalBtn"><i class='bx bx-plus'></i>Add Animal</button>

            <div id="animalModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>Add New Animal</h2>
                    <form id="animal-form">
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <label for="tag_number">Tag Number:</label>
                        <input type="text" id="tag_number" name="tag_number">
        

                        <div >
                            <label for="species">Species:</label>
                            <select id="species" name="species" required>
                                <option value="dairy_cow">Dairy Cow</option>
                                <option value="pig">Pig</option>
                            </select>
                        </div>
                        <div>
                            <label for="breed">Breed:</label>
                            <input type="text" id="breed" name="breed" required>
                        </div>
                        <label for="gender">Gender:</label>
                        <select id="gender" name="gender">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>

                        <div class="form-group">
                            <label for="dob">Birth Date:</label>
                            <input type="date" id="dob" name="dob" required>
                        </div>
                        <div class="form-group">
                            <label for="health_status">Health Status:</label>
                            <input type="text" id="health_status" name="health_status" required>
                        </div>
                        <div id="dairy_cow_fields" class="form-group hidden">
                            <label for="milk_production">Milk Production (liters/day):</label>
                            <input type="number" id="milk_production" name="milk_production">
                        </div>
                        <div id="pig_fields" class="form-group hidden">
                            <label for="weight">Weight (kg):</label>
                            <input type="number" id="weight" name="weight"><br>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Animal</button>
                    </form>
                </div>
            </div>
            
  

            <section id="animals-section" class="mt-5">
                <h2>Animals</h2>
                <table id="animals-table" class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Species</th>
                            <th>Breed</th>
                            <th>Date of Birth</th>
                            <th>Health Status</th>
                            <th>Additional Info</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Animal rows will be added here dynamically -->
                    </tbody>
                </table>
            </section>
            
        </div>
    </main>

    <script>
       // Get the modal element
const modal = document.getElementById('animalModal');

// Get the button that opens the modal
const btn = document.getElementById('addAnimalBtn');

// Get the <span> element that closes the modal
const closeBtn = document.getElementsByClassName('close')[0];

// When the user clicks the button, open the modal
btn.onclick = function() {
    modal.style.display = 'block';
}

// When the user clicks on <span> (x), close the modal
closeBtn.onclick = function() {
    modal.style.display = 'none';
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = 'none';
    }
}

// Handle species select change to show relevant fields
const speciesSelect = document.getElementById('species');
const dairyCowFields = document.getElementById('dairy_cow_fields');
const pigFields = document.getElementById('pig_fields');

speciesSelect.addEventListener('change', function() {
    if (speciesSelect.value === 'dairy_cow') {
        dairyCowFields.classList.remove('hidden');
        pigFields.classList.add('hidden');
    } else if (speciesSelect.value === 'pig') {
        dairyCowFields.classList.add('hidden');
        pigFields.classList.remove('hidden');
    } else {
        dairyCowFields.classList.add('hidden');
        pigFields.classList.add('hidden');
    }
});

// Handle form submission (you can add your logic here)
const animalForm = document.getElementById('animal-form');

animalForm.addEventListener('submit', function(event) {
    event.preventDefault();

    // Here you can add your logic to handle form submission
    // For demonstration purposes, we'll just close the modal

    modal.style.display = 'none';
});


const animalsTableBody = document.getElementById('animals-table').getElementsByTagName('tbody')[0];
    
    // Example data (you can replace this with your actual data or fetch it from an API)
    const animalsData = [
        { id: 1, name: 'Bessie', species: 'Dairy Cow', breed: 'Holstein', dob: '2018-05-15', healthStatus: 'Healthy', additionalInfo: 'Milk Production: 20 liters/day' },
        { id: 2, name: 'Oinkers', species: 'Pig', breed: 'Yorkshire', dob: '2019-08-21', healthStatus: 'Stable', additionalInfo: 'Weight: 150 kg' },
        { id: 3, name: 'Molly', species: 'Dairy Cow', breed: 'Jersey', dob: '2017-11-30', healthStatus: 'Healthy', additionalInfo: 'Milk Production: 18 liters/day' },
        { id: 4, name: 'Spot', species: 'Pig', breed: 'Hampshire', dob: '2020-02-10', healthStatus: 'Recovering', additionalInfo: 'Weight: 130 kg' },
        { id: 5, name: 'Daisy', species: 'Dairy Cow', breed: 'Ayrshire', dob: '2016-09-05', healthStatus: 'Stable', additionalInfo: 'Milk Production: 22 liters/day' },
        { id: 6, name: 'Porky', species: 'Pig', breed: 'Berkshire', dob: '2018-11-12', healthStatus: 'Healthy', additionalInfo: 'Weight: 140 kg' },
        { id: 7, name: 'Buttercup', species: 'Dairy Cow', breed: 'Guernsey', dob: '2019-03-17', healthStatus: 'Stable', additionalInfo: 'Milk Production: 19 liters/day' },
        { id: 8, name: 'Hamlet', species: 'Pig', breed: 'Duroc', dob: '2017-07-28', healthStatus: 'Recovering', additionalInfo: 'Weight: 135 kg' },
        { id: 9, name: 'Clover', species: 'Dairy Cow', breed: 'Brown Swiss', dob: '2020-06-25', healthStatus: 'Healthy', additionalInfo: 'Milk Production: 21 liters/day' },
        { id: 10, name: 'Wilbur', species: 'Pig', breed: 'Tamworth', dob: '2019-01-14', healthStatus: 'Stable', additionalInfo: 'Weight: 145 kg' }
    ];

    // Function to populate the table with data
    function populateTable(data) {
        data.forEach(animal => {
            const newRow = animalsTableBody.insertRow();
            newRow.innerHTML = `
                <td>${animal.id}</td>
                <td>${animal.name}</td>
                <td>${animal.species}</td>
                <td>${animal.breed}</td>
                <td>${animal.dob}</td>
                <td>${animal.healthStatus}</td>
                <td>${animal.additionalInfo}</td>
            `;
        });
    }

    // Call the function to populate the table with initial data
    populateTable(animalsData);

        </script>
        
</body>
</html>
